DROP DATABASE IF EXISTS tripreservation;
CREATE DATABASE tripreservation;
USE tripreservation;

DROP TABLE IF EXISTS hotel;
CREATE TABLE hotel(
  id INT UNSIGNED NOT NULL AUTO_INCREMENT,
  code INT UNSIGNED NOT NULL,
  agentCode INT UNSIGNED NOT NULL,
  locationCode INT UNSIGNED NOT NULL,
  includesBreakfast INT UNSIGNED NOT NULL,
  PRIMARY KEY(id),
  UNIQUE KEY(code, agentCode)
) DEFAULT CHARSET=utf8;


DROP TABLE IF EXISTS room;
CREATE TABLE room(
  id INT UNSIGNED NOT NULL AUTO_INCREMENT,
  code INT UNSIGNED NOT NULL,
  hotelId INT UNSIGNED NOT NULL,
  adultSpace INT UNSIGNED NOT NULL,
  childrenSpace INT UNSIGNED NOT NULL,
  PRIMARY KEY(id),
  UNIQUE KEY(code, hotelId)
) DEFAULT CHARSET=utf8;

DROP TABLE IF EXISTS roomTimeSlot;
CREATE TABLE roomTimeSlot(
  id INT UNSIGNED NOT NULL AUTO_INCREMENT,
  roomId INT UNSIGNED NOT NULL,
  fromDate date NOT NULL,
  toDate date NOT NULL,
  PRIMARY KEY(id),
  UNIQUE KEY(id)
) DEFAULT CHARSET=utf8;